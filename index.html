<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø³ÙŠÙ… Ø¬ÙŠÙ… Ø£ÙˆØª ØªØ§ÙˆÙ† - Ù†Ø³Ø®Ø© Ø±Ù…Ø¶Ø§Ù†</title>
    <style>
        :root {
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --accent-color: #f59e0b;
            --text-primary: #f8fafc;
            --disabled-color: #475569;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color); color: var(--text-primary);
            margin: 0; overflow-x: hidden; display: flex; flex-direction: column;
            align-items: center; min-height: 100vh;
        }

        /* --- Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠ (ØªØºØ·ÙŠØ© ÙƒØ§Ù…Ù„Ø© + ÙˆÙ…ÙŠØ¶ Ø£Ø­Ù…Ø± ÙˆØ£Ø³ÙˆØ¯) --- */
        #admin-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.95); 
            display: none; flex-direction: column; justify-content: center;
            align-items: center; z-index: 20000; text-align: center;
            border: 0px solid red;
            animation: border-flash 0.3s infinite alternate;
        }
        
        @keyframes border-flash {
            from { box-shadow: inset 0 0 50px red; }
            to { box-shadow: inset 0 0 150px #000; }
        }

        .flashing-title {
            color: #ff0000; font-size: 2.5rem; margin-bottom: 20px;
            animation: blink 0.2s infinite alternate; font-weight: 900;
            text-shadow: 0 0 15px red;
        }
        .flashing-msg {
            color: #fff; font-size: 4rem; font-weight: 900;
            padding: 0 20px; text-shadow: 0 0 30px #fff;
            animation: shake 0.1s infinite;
        }

        @keyframes blink {
            from { opacity: 1; } to { opacity: 0.1; }
        }
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            40% { transform: translate(3px, 2px) rotate(-1deg); }
            60% { transform: translate(-1px, -1px) rotate(1deg); }
            80% { transform: translate(-3px, 1px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }

        #admin-trigger {
            position: fixed; bottom: 0; left: 0; width: 50px; height: 50px;
            background: transparent; cursor: pointer; z-index: 1000;
        }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ */
        #intro-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-color); display: flex; justify-content: center;
            align-items: center; z-index: 9999; transition: opacity 1s;
        }
        .shiny-text {
            font-size: 3.5rem; font-weight: bold; text-align: center;
            background: linear-gradient(90deg, transparent, #fff, transparent);
            background-size: 80%; background-repeat: no-repeat;
            -webkit-background-clip: text; -webkit-text-fill-color: var(--accent-color);
            animation: shine 2.5s infinite;
        }
        @keyframes shine { 0% { background-position: -500%; } 100% { background-position: 500%; } }

        #top-timer-bar {
            display: none; background-color: var(--accent-color);
            color: #432b05; padding: 8px 30px; border-radius: 50px;
            font-size: 1.6rem; font-weight: bold; margin-top: 20px;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3); z-index: 100;
        }

        #categories-screen {
            display: none; width: 95%; max-width: 1200px;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px; padding: 40px 20px;
        }
        .cat-card {
            background: var(--card-bg); border-radius: 15px;
            display: flex; flex-direction: column; align-items: center;
            border-bottom: 5px solid var(--accent-color); overflow: hidden;
        }
        .cat-main { display: flex; width: 100%; justify-content: space-between; align-items: center; }
        .points-col { display: flex; flex-direction: column; gap: 5px; width: 80px; padding: 10px; }
        .point-box {
            background: #334155; color: #fff; padding: 15px 5px;
            text-align: center; font-weight: bold; cursor: pointer;
            border-radius: 30px; margin: 5px; transition: 0.3s;
        }
        .point-box:hover:not(.used) { background: var(--accent-color); color: #000; }
        .point-box.used { opacity: 0.2; cursor: default; }
        .cat-title {
            flex-grow: 1; text-align: center; background: #f1f5f9;
            color: #000; padding: 10px; font-weight: bold; width: 100%;
        }

        #game-interface { display: none; width: 98%; justify-content: space-between; margin-top: 20px; }
        .sidebar {
            width: 220px; background: rgba(30, 41, 59, 0.6);
            border: 2px solid var(--accent-color); padding: 15px;
            text-align: center; border-radius: 15px;
        }
        .score-display { font-size: 3.5rem; font-weight: bold; color: var(--accent-color); }
        
        .help-item {
            display: flex; align-items: center; justify-content: center; gap: 10px; 
            margin-top: 15px; cursor: pointer; font-size: 1rem; padding: 10px;
            background: rgba(255,255,255,0.05); border-radius: 8px;
            transition: 0.3s; border: 1px solid transparent;
        }
        .help-item.used-help {
            background: var(--accent-color) !important;
            color: #000 !important;
            cursor: not-allowed;
            pointer-events: none;
        }

        .question-area { flex-grow: 1; margin: 0 20px; text-align: center; }
        .question-card { background: var(--card-bg); padding: 40px; border-radius: 20px; border: 1px solid #334155; }
        
        .winner-selection { display: none; margin-top: 30px; border-top: 1px solid #444; padding-top: 20px; }
        .win-btn {
            background: var(--accent-color); color: #000; border: none;
            padding: 15px 30px; margin: 10px; border-radius: 10px;
            font-weight: bold; cursor: pointer; font-size: 1.1rem;
        }

        #setup-screen { display: none; flex-direction: column; align-items: center; justify-content: center; flex-grow: 1; width: 100%; }
        .container { width: 90%; max-width: 600px; text-align: center; }
        .team-box { background: var(--card-bg); border-radius: 10px; margin-bottom: 20px; overflow: hidden; }
        .team-label { background: var(--accent-color); color: #000; padding: 10px; font-weight: bold; }
        input { width: 100%; padding: 15px; background: #21262d; border: none; color: #fff; text-align: center; font-size: 1.1rem; box-sizing: border-box;}
        .start-btn { background: var(--accent-color); padding: 15px 50px; border: none; font-weight: bold; cursor: pointer; border-radius: 5px; }
    </style>
</head>
<body>

    <div id="admin-overlay">
        <div class="flashing-title">ğŸ“¢ Ø§Ù„Ù€Ù…Ù€Ø·Ù€ÙˆØ± Ø¬Ù€Ù†Ù€Ø§Ø²Ø© ğŸ“¢</div>
        <div class="flashing-msg" id="alert-text">Ø¥Ø®Ù„Ø§Ø¡ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙÙˆØ±Ø§Ù‹</div>
    </div>

    <div id="admin-trigger" onclick="openAdminPanel()"></div>

    <div id="intro-screen"><div class="shiny-text">Ø³ÙŠÙ… Ø¬ÙŠÙ… Ø£ÙˆØª ØªØ§ÙˆÙ†</div></div>
    <div id="top-timer-bar">00:00</div>

    <div id="setup-screen">
        <h1>ğŸŒ™ Ø³ÙŠÙ… Ø¬ÙŠÙ… Ø£ÙˆØª ØªØ§ÙˆÙ†</h1>
        <div class="container">
            <div class="team-box">
                <div class="team-label">Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£ÙˆÙ„</div>
                <input type="text" id="t1" value="Ø¯Ø±Ø¨Ø­Ù‡">
            </div>
            <div class="team-box">
                <div class="team-label">Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø«Ø§Ù†ÙŠ</div>
                <input type="text" id="t2" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø«Ø§Ù†ÙŠ">
            </div>
            <button class="start-btn" onclick="showCategories()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨</button>
        </div>
    </div>

    <div id="categories-screen"></div>

    <div id="game-interface">
        <div class="sidebar">
            <div id="side-name-1" style="color:var(--accent-color); font-weight:bold;"></div>
            <div class="score-display" id="score1">0</div>
            <div style="border-top:1px solid #444; margin-top:10px; padding-top:10px;">Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø§Øª</div>
            <div class="help-item" onclick="useHelp(this)">ğŸ“ Ø§ØªØµØ§Ù„ Ø¨ØµØ¯ÙŠÙ‚</div>
            <div class="help-item" onclick="useHelp(this)">âœŒï¸ Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø§Ø¨ØªÙŠÙ†</div>
            <div class="help-item" onclick="useHelp(this)">ğŸ•³ï¸ Ø§Ù„Ø­ÙØ±Ø©</div>
        </div>

        <div class="question-area" id="q-content"></div>

        <div class="sidebar">
            <div id="side-name-2" style="color:var(--accent-color); font-weight:bold;"></div>
            <div class="score-display" id="score2">0</div>
            <div style="border-top:1px solid #444; margin-top:10px; padding-top:10px;">Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø§Øª</div>
            <div class="help-item" onclick="useHelp(this)">ğŸ“ Ø§ØªØµØ§Ù„ Ø¨ØµØ¯ÙŠÙ‚</div>
            <div class="help-item" onclick="useHelp(this)">âœŒï¸ Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø§Ø¨ØªÙŠÙ†</div>
            <div class="help-item" onclick="useHelp(this)">ğŸ•³ï¸ Ø§Ù„Ø­ÙØ±Ø©</div>
        </div>
    </div>

    <script>
        let score1 = 0; let score2 = 0; let currentPoints = 0;
        let lastClickedBox = null;
        
        // Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØª Ø§Ù„Ø¥Ù†Ø°Ø§Ø± Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹ (ØªØ¬Ù†Ø¨Ø§Ù‹ Ù„Ø±ÙˆØ§Ø¨Ø· Ù‚Ø¯ ØªÙ†ÙƒØ³Ø±)
        const sirenContext = new (window.AudioContext || window.webkitAudioContext)();
        let sirenInterval;

        function playSiren() {
            if(sirenContext.state === 'suspended') sirenContext.resume();
            let osc = sirenContext.createOscillator();
            let gain = sirenContext.createGain();
            osc.connect(gain);
            gain.connect(sirenContext.destination);
            
            osc.type = 'sawtooth';
            osc.frequency.setValueAtTime(300, sirenContext.currentTime);
            osc.frequency.exponentialRampToValueAtTime(800, sirenContext.currentTime + 1);
            
            gain.gain.setValueAtTime(0.1, sirenContext.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, sirenContext.currentTime + 1);
            
            osc.start();
            osc.stop(sirenContext.currentTime + 1);
        }

        function openAdminPanel() {
            let pass = prompt("ØªØ­Ù‚Ù‚ Ø§Ù„Ù‡ÙˆÙŠØ© (Ø§Ù„Ù…Ø·ÙˆØ± Ø¬Ù†Ø§Ø²Ø©):");
            if(pass === "101010") {
                let msg = prompt("Ø£Ø¯Ø®Ù„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¥Ù†Ø°Ø§Ø±:");
                if(msg) sendGlobalAlert(msg);
            }
        }

        function sendGlobalAlert(text) {
            const overlay = document.getElementById('admin-overlay');
            const alertText = document.getElementById('alert-text');
            alertText.innerText = text;
            overlay.style.display = "flex";

            // Ø¨Ø¯Ø¡ ØµÙˆØª Ø§Ù„Ø¥Ù†Ø°Ø§Ø± Ø§Ù„Ù…ØªÙƒØ±Ø±
            sirenInterval = setInterval(playSiren, 1000);

            setTimeout(() => {
                overlay.style.display = "none";
                clearInterval(sirenInterval);
            }, 8000); // ÙŠØ³ØªÙ…Ø± Ù„Ù€ 8 Ø«ÙˆØ§Ù†ÙŠ
        }

        // --- Ø¨Ø§Ù‚ÙŠ ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ© ---
        const bank = {
            "Ø£Ø³Ø¦Ù„Ø© Ø¯ÙŠÙ†ÙŠØ©": {
                icon: "ğŸ•Œ",
                left: { 200: {q:"Ù…Ø§ Ù‡ÙŠ Ø£Ø·ÙˆÙ„ Ø³ÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù†ØŸ", a:"Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø©"}, 400: {q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø®Ù„ÙØ§Ø¡ Ø§Ù„Ø±Ø§Ø´Ø¯ÙŠÙ†ØŸ", a:"4"}, 600: {q:"Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù…Ù„Ù‚Ø¨ Ø¨Ø°ÙŠ Ø§Ù„Ù†ÙˆØ±ÙŠÙ†ØŸ", a:"Ø¹Ø«Ù…Ø§Ù† Ø¨Ù† Ø¹ÙØ§Ù†"} },
                right: { 200: {q:"Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„ØªÙŠ ØªØ³Ù…Ù‰ Ø¹Ø±ÙˆØ³ Ø§Ù„Ù‚Ø±Ø¢Ù†ØŸ", a:"Ø³ÙˆØ±Ø© Ø§Ù„Ø±Ø­Ù…Ù†"}, 400: {q:"Ù…Ù† Ù‡Ùˆ Ø£ÙˆÙ„ Ù…Ø¤Ø°Ù† ÙÙŠ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ", a:"Ø¨Ù„Ø§Ù„ Ø¨Ù† Ø±Ø¨Ø§Ø­"}, 600: {q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ", a:"30 Ø¬Ø²Ø¡"} }
            },
            "Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª": {
                icon: "ğŸš—",
                left: { 200: {q:"Ù…Ø§ Ù‡ÙŠ Ø¬Ù†Ø³ÙŠØ© Ø´Ø±ÙƒØ© ØªÙˆÙŠÙˆØªØ§ØŸ", a:"ÙŠØ§Ø¨Ø§Ù†ÙŠØ©"}, 400: {q:"Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„ØªÙŠ Ø§Ø³ØªØ­ÙˆØ°Øª Ø¹Ù„Ù‰ ÙÙˆÙ„ÙÙˆØŸ", a:"Ø¬ÙŠÙ„ÙŠ Ø§Ù„ØµÙŠÙ†ÙŠØ©"}, 600: {q:"Ù…Ø§ Ù‡Ùˆ Ø´Ø¹Ø§Ø± Ø´Ø±ÙƒØ© Ù…Ø±Ø³ÙŠØ¯Ø³ØŸ", a:"Ø§Ù„Ù†Ø¬Ù…Ø© Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©"} },
                right: { 200: {q:"Ù…Ø§ Ù‡ÙŠ Ø£Ø³Ø±Ø¹ Ø³ÙŠØ§Ø±Ø© ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", a:"Ø¨ÙˆØºØ§ØªÙŠ"}, 400: {q:"Ø´Ø¹Ø§Ø± Ø§Ù„Ø­ØµØ§Ù† ÙŠØ±Ù…Ø² Ù„Ø£ÙŠ Ø´Ø±ÙƒØ©ØŸ", a:"ÙÙŠØ±Ø§Ø±ÙŠ"}, 600: {q:"Ù…Ø§ Ù‡ÙŠ Ø¨Ù„Ø¯ Ù…Ù†Ø´Ø£ Ø´Ø±ÙƒØ© Ù‡ÙŠÙˆÙ†Ø¯Ø§ÙŠØŸ", a:"ÙƒÙˆØ±ÙŠØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©"} }
            },
            "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§": {
                icon: "ğŸŒ",
                left: { 200: {q:"Ù…Ø§ Ù‡ÙŠ Ø£ÙƒØ¨Ø± Ù‚Ø§Ø±Ø© ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… Ù…Ù† Ø­ÙŠØ« Ø§Ù„Ù…Ø³Ø§Ø­Ø©ØŸ", a:"Ù‚Ø§Ø±Ø© Ø¢Ø³ÙŠØ§"}, 400: {q:"Ù…Ø§ Ù‡Ùˆ Ø£Ø·ÙˆÙ„ Ù†Ù‡Ø± ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", a:"Ù†Ù‡Ø± Ø§Ù„Ù†ÙŠÙ„"}, 600: {q:"ÙÙŠ Ø£ÙŠ Ù‚Ø§Ø±Ø© ØªÙ‚Ø¹ ØºØ§Ø¨Ø© Ø§Ù„Ø£Ù…Ø§Ø²ÙˆÙ†ØŸ", a:"Ø£Ù…Ø±ÙŠÙƒØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©"} },
                right: { 200: {q:"Ù…Ø§ Ù‡ÙŠ Ø£ØµØºØ± Ø¯ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", a:"Ø§Ù„ÙØ§ØªÙŠÙƒØ§Ù†"}, 400: {q:"Ù…Ø§ Ù‡Ùˆ Ø£Ø¹Ù„Ù‰ Ø¬Ø¨Ù„ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", a:"Ø¥ÙŠÙØ±Ø³Øª"}, 600: {q:"Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„ØªÙŠ ØªØ³Ù…Ù‰ Ø¨Ù„Ø§Ø¯ Ø§Ù„Ø´Ù…Ø³ Ø§Ù„Ù…Ø´Ø±Ù‚Ø©ØŸ", a:"Ø§Ù„ÙŠØ§Ø¨Ø§Ù†"} }
            },
            "Ø­ÙƒØ§Ù… Ø§Ù„Ø¯ÙˆÙ„": {
                icon: "ğŸ‘‘",
                left: { 200: {q:"Ù…Ù† Ù‡Ùˆ Ù…Ù„Ùƒ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØŸ", a:"Ø§Ù„Ù…Ù„Ùƒ Ø³Ù„Ù…Ø§Ù† Ø¨Ù† Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ²"}, 400: {q:"Ù…Ù† Ù‡Ùˆ Ø­Ø§ÙƒÙ… Ø³Ù„Ø·Ù†Ø© Ø¹Ù…Ø§Ù†ØŸ", a:"Ø§Ù„Ø³Ù„Ø·Ø§Ù† Ù‡ÙŠØ«Ù… Ø¨Ù† Ø·Ø§Ø±Ù‚"}, 600: {q:"Ù…Ù† Ù‡Ùˆ Ù…Ø¤Ø³Ø³ Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ØŸ", a:"Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø³Ø¹ÙˆØ¯"} },
                right: { 200: {q:"Ù…Ù† Ù‡Ùˆ Ø£Ù…ÙŠØ± Ø¯ÙˆÙ„Ø© Ù‚Ø·Ø± Ø§Ù„Ø­Ø§Ù„ÙŠØŸ", a:"Ø§Ù„Ø´ÙŠØ® ØªÙ…ÙŠÙ… Ø¨Ù† Ø­Ù…Ø¯"}, 400: {q:"Ù…Ù† Ù‡Ùˆ Ù…Ù„Ùƒ Ø§Ù„Ø£Ø±Ø¯Ù†ØŸ", a:"Ø§Ù„Ù…Ù„Ùƒ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø«Ø§Ù†ÙŠ"}, 600: {q:"Ù…Ù† Ù‡Ùˆ Ø±Ø¦ÙŠØ³ Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¥Ù…Ø§Ø±Ø§ØªØŸ", a:"Ø§Ù„Ø´ÙŠØ® Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø²Ø§ÙŠØ¯"} }
            },
            "Ø§Ù„Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": {
                icon: "ğŸ™ï¸",
                left: { 200: {q:"ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ù†Ø´Ø£Øª Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø£Ø±Ø¯Ù†ÙŠØ© Ø§Ù„Ù‡Ø§Ø´Ù…ÙŠØ© (Ø§Ù„Ø§Ø³ØªÙ‚Ù„Ø§Ù„)ØŸ", a:"1946Ù…"}, 400: {q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø¯ÙˆÙ„Ø© Ø§Ù„ÙƒÙˆÙŠØªØŸ", a:"Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ÙƒÙˆÙŠØª"}, 600: {q:"Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ÙˆØ­ÙŠØ¯Ø© Ø§Ù„ØªÙŠ ØªØ·Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ÙŠØ· Ø§Ù„Ø£Ø·Ù„Ø³ÙŠ ÙˆØ§Ù„Ù…ØªÙˆØ³Ø·ØŸ", a:"Ø§Ù„Ù…ØºØ±Ø¨"} },
                right: { 200: {q:"Ù…Ø§ Ù‡ÙŠ Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ØŸ", a:"2 Ù…Ù„ÙŠÙˆÙ† ÙƒÙ…Â²"}, 400: {q:"Ù…ØªÙ‰ ØªÙ… ØªØ£Ø³ÙŠØ³ Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ù…ØªØ­Ø¯Ø©ØŸ", a:"1971Ù…"}, 600: {q:"Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ØªÙŠ ØªØ³Ù…Ù‰ Ø¨Ø¨Ù„Ø§Ø¯ Ø§Ù„Ù…Ù„ÙŠÙˆÙ† Ø´Ù‡ÙŠØ¯ØŸ", a:"Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±"} }
            }
        };

        function startTimer() {
            let s = 0; setInterval(() => {
                s++; let mins = Math.floor(s/60); let secs = s%60;
                document.getElementById('top-timer-bar').innerText = (mins<10?"0"+mins:mins)+":"+(secs<10?"0"+secs:secs);
            }, 1000);
        }

        setTimeout(() => {
            document.getElementById('intro-screen').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('intro-screen').style.display = 'none';
                document.getElementById('setup-screen').style.display = 'flex';
                document.getElementById('top-timer-bar').style.display = 'block';
                startTimer();
            }, 1000);
        }, 2000);

        function showCategories() {
            const n1 = document.getElementById('t1').value;
            const n2 = document.getElementById('t2').value;
            if(!n2) return alert("Ø§Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø«Ø§Ù†ÙŠ");
            document.getElementById('side-name-1').innerText = n1;
            document.getElementById('side-name-2').innerText = n2;
            document.getElementById('setup-screen').style.display = 'none';
            const screen = document.getElementById('categories-screen');
            screen.style.display = 'grid';
            screen.innerHTML = "";
            Object.keys(bank).forEach(cat => {
                screen.innerHTML += `
                    <div class="cat-card">
                        <div class="cat-main">
                            <div class="points-col">
                                <div class="point-box" onclick="loadQ('${cat}','left',200, this)">200</div>
                                <div class="point-box" onclick="loadQ('${cat}','left',400, this)">400</div>
                                <div class="point-box" onclick="loadQ('${cat}','left',600, this)">600</div>
                            </div>
                            <div style="font-size: 3.5rem;">${bank[cat].icon}</div>
                            <div class="points-col">
                                <div class="point-box" onclick="loadQ('${cat}','right',200, this)">200</div>
                                <div class="point-box" onclick="loadQ('${cat}','right',400, this)">400</div>
                                <div class="point-box" onclick="loadQ('${cat}','right',600, this)">600</div>
                            </div>
                        </div>
                        <div class="cat-title">${cat}</div>
                    </div>`;
            });
        }

        function loadQ(cat, side, pts, element) {
            if(element.classList.contains('used')) return;
            currentPoints = pts;
            lastClickedBox = element;
            const data = bank[cat][side][pts];
            document.getElementById('categories-screen').style.display = 'none';
            document.getElementById('game-interface').style.display = 'flex';
            document.getElementById('q-content').innerHTML = `
                <div class="question-card">
                    <h2 style="color:var(--accent-color)">${cat} - ${pts} Ù†Ù‚Ø·Ø©</h2>
                    <p style="font-size:2rem; margin:30px 0;">${data.q}</p>
                    <p id="ans" style="display:none; color:#4ade80; font-weight:bold; font-size:1.6rem;">Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©: ${data.a}</p>
                    <button class="start-btn" id="rev-btn" onclick="reveal()">Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</button>
                    <div class="winner-selection" id="win-area">
                        <p>Ù…Ù† Ø§Ù„ÙØ§Ø¦Ø² Ø¨Ø§Ù„Ù†Ù‚Ø§Ø·ØŸ</p>
                        <button class="win-btn" onclick="addPts(1)">${document.getElementById('t1').value}</button>
                        <button class="win-btn" onclick="addPts(2)">${document.getElementById('t2').value}</button>
                        <button class="win-btn" style="background:#444; color:#fff;" onclick="addPts(0)">Ù„Ø§ Ø£Ø­Ø¯</button>
                    </div>
                </div>`;
        }

        function reveal() {
            document.getElementById('ans').style.display = 'block';
            document.getElementById('rev-btn').style.display = 'none';
            document.getElementById('win-area').style.display = 'block';
        }

        function addPts(team) {
            if(team === 1) { score1 += currentPoints; document.getElementById('score1').innerText = score1; }
            if(team === 2) { score2 += currentPoints; document.getElementById('score2').innerText = score2; }
            if(lastClickedBox) lastClickedBox.classList.add('used');
            document.getElementById('game-interface').style.display = 'none';
            document.getElementById('categories-screen').style.display = 'grid';
        }

        function useHelp(element) {
            if(!element.classList.contains('used-help')) {
                element.classList.add('used-help');
            }
        }
    </script>
</body>
</html>
